<!DOCTYPE html>
<html>
<head>
    <title>èª°è¬›ç™½è³Š</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; background: #f0f2f5; }
        .card { border: 2px dashed #333; padding: 40px; margin: 20px auto; max-width: 300px; background: white; border-radius: 15px; cursor: pointer; }
        .hidden { display: none; }
        input, button { padding: 10px; font-size: 16px; margin: 5px; border-radius: 5px; border: 1px solid #ccc; }
        button { background: #007bff; color: white; border: none; cursor: pointer; }
    </style>
</head>https://docs.google.com/spreadsheets/d/e/2PACX-1vRXr-NxRpudrsU6BBpxKN4tOGZ5YmH_m4e1Fpcq1BvQyXjqO7wIhtVk3jRBpDQFKQpmmluUrbNfiDfm/pub?gid=0&single=true&output=csv
<body>
    <h2>ğŸ•µï¸ èª°è¬›ç™½è³Š - éŠæˆ²å¤§å»³</h2>
    
    <div>
        <input type="number" id="roomCode" placeholder="è¼¸å…¥è€å¸«çµ¦çš„æˆ¿é–“è™Ÿç¢¼ (å¦‚: 123)">
        <input type="number" id="groupNum" placeholder="è¼¸å…¥ä½ çš„çµ„åˆ¥ (1-6)">
        <button onclick="startGame()">æŸ¥çœ‹å¡ç‰Œ</button>
    </div>

    <div id="gameArea" class="hidden">
        <hr>
        <h3 id="displayGroup">ç¬¬ X çµ„</h3>
        <div class="card" onclick="toggleCard()">
            <span id="instruction">é»æ“Šç¿»ç‰Œ</span>
            <h1 id="word" class="hidden">è¼‰å…¥ä¸­...</h1>
        </div>
        <p style="color: gray; font-size: 0.8em;">çœ‹å®Œè«‹å†æ¬¡é»æ“Šéš±è—ï¼Œå‹¿è®“ä»–äººçœ‹è¦‹</p>
    </div>

    <script>
        // å°‡é€™è£¡æ›¿æ›æˆä½  Google è©¦ç®—è¡¨ç™¼å¸ƒçš„ CSV é€£çµ
        const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRXr-NxRpudrsU6BBpxKN4tOGZ5YmH_m4e1Fpcq1BvQyXjqO7wIhtVk3jRBpDQFKQpmmluUrbNfiDfm/pub?gid=0&single=true&output=csv';

        async function startGame() {
            const roomCode = document.getElementById('roomCode').value;
            const groupNum = parseInt(document.getElementById('groupNum').value);
            
            if (!roomCode || !groupNum) return alert('è«‹è¼¸å…¥å®Œæ•´è³‡è¨Š');

            const response = await fetch(csvUrl);
            const data = await response.text();
            const rows = data.split('\n').map(row => row.split(','));
            // æ’é™¤æ¨™é¡Œåˆ—ä¸¦éæ¿¾ç©ºç™½
            const wordPairs = rows.filter(r => r.length >= 2 && r[0] !== "å¹³æ°‘è©å½™");

            // ä½¿ç”¨æˆ¿é–“è™Ÿç¢¼ä½œç‚ºéš¨æ©Ÿç¨®å­
            const seed = parseInt(roomCode);
            const pairIndex = seed % wordPairs.length;
            const [civWord, spyWord] = wordPairs[pairIndex];

            // æ±ºå®šå“ªä¸€çµ„æ˜¯è‡¥åº• (å‡è¨­ç¸½å…± 6 çµ„ï¼Œä½¿ç”¨ç¨®å­éš¨æ©Ÿé¸ä¸€çµ„)
            const spyGroup = (seed % 6) + 1;

            document.getElementById('displayGroup').innerText = `ç¬¬ ${groupNum} çµ„`;
            document.getElementById('word').innerText = (groupNum === spyGroup) ? spyWord : civWord;
            document.getElementById('gameArea').style.display = 'block';
        }

        function toggleCard() {
            const word = document.getElementById('word');
            const inst = document.getElementById('instruction');
            if (word.classList.contains('hidden')) {
                word.classList.remove('hidden');
                inst.classList.add('hidden');
            } else {
                word.classList.add('hidden');
                inst.classList.remove('hidden');
            }
        }
    </script>
</body>
</html>
